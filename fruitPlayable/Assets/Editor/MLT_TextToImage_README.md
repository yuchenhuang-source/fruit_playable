# MLT 文本转图片功能使用指南

## 概述

此功能可将 `MLT_TextSwitch` 组件中的多语言文本转换为图片，解决 Unity Playworks Luna 试玩广告中的多语言字体显示问题。转换后的图片会自动配置到 `MLT_ImageSwitch` 组件中。

## 使用步骤

### 1. 打开工具窗口

在 Unity 编辑器菜单栏中选择：`Tools > MLT Translation > Text to Image Converter`

### 2. 配置输出设置

- **输出路径**：选择生成图片的保存位置（默认为 `Assets/GeneratedTextImages`）
- **创建语言子文件夹**：勾选后会为每种语言创建独立文件夹

### 3. 图片生成选项

#### 基本设置
- **图片缩放倍数**：控制生成图片的分辨率（默认2倍，建议1-3倍）
- **背景颜色**：设置图片背景色（默认透明）
- **内边距**：文字与图片边缘的距离（默认5像素）

#### 质量设置
- **启用抗锯齿**：提升文字渲染质量
- **纹理格式**：
  - `RGBA32`：最高质量，支持透明（默认）
  - `RGB24`：不支持透明，文件略小
  - `RGBA4444`：低质量但文件小
  - `RGB565`：最小文件，质量较低

#### 压缩设置
- **压缩纹理**：启用后减小文件大小（可能影响质量）
- **最大纹理尺寸**：限制生成图片的最大宽高（默认2048）

### 4. 选择转换对象

#### 刷新列表
点击「刷新文本列表」按钮，工具会自动扫描场景中所有包含 `MLT_TextSwitch` 组件的对象。

#### 选择要转换的对象
- 使用每个对象前的复选框选择
- 点击「全选」或「取消全选」快速操作
- 支持展开查看每个对象的语言配置

#### 语言筛选（高级）
- 点击「高级选项」展开语言筛选
- 勾选需要生成的语言（默认全选）
- 未勾选的语言将被跳过

### 5. 执行转换

#### 仅生成图片
点击「生成图片」按钮：
- 为选中的对象生成对应语言的图片
- 图片保存到指定路径
- 不会修改场景中的对象

#### 生成并配置
点击「生成并配置到 ImageSwitch」按钮：
- 生成图片
- 自动添加 `MLT_ImageSwitch` 组件
- 配置生成的图片到对应语言
- 禁用原有的 `Text` 和 `MLT_TextSwitch` 组件

## 最佳实践

### 1. 包体优化建议

- **精简语言支持**：仅生成目标市场需要的语言
- **选择合适的缩放倍数**：
  - UI 文字：1-1.5倍通常足够
  - 标题文字：2-3倍保证清晰度
- **使用压缩格式**：
  - 纯色背景文字：RGB565
  - 需要透明的文字：RGBA4444
  - 重要标题：RGBA32

### 2. 批量处理流程

1. 先在一个测试对象上调试好设置
2. 记录合适的参数配置
3. 批量选择同类型对象
4. 一次性转换

### 3. 文件组织

建议的目录结构：
```
Assets/
├── GeneratedTextImages/
│   ├── UI/
│   │   ├── Buttons/
│   │   └── Labels/
│   └── Titles/
```

### 4. 性能优化

- 相同文字内容的不同对象，可共享生成的图片资源
- 使用图集工具将小图片合并，减少 Draw Call
- 定期清理未使用的图片资源

## 注意事项

1. **字体版权**：确保使用的字体允许转换为图片形式分发
2. **更新维护**：文字内容修改后需要重新生成图片
3. **版本控制**：生成的图片建议加入版本控制系统
4. **测试验证**：转换后务必在目标平台测试显示效果

## 故障排除

### 生成的图片模糊
- 增加图片缩放倍数
- 关闭纹理压缩
- 使用更高质量的纹理格式

### 文字被截断
- 增加内边距设置
- 检查原始 Text 组件的 RectTransform 大小
- 确保文字没有超出显示区域

### 图片文件过大
- 启用纹理压缩
- 使用较低的缩放倍数
- 选择合适的纹理格式
- 考虑分语言打包

## 扩展功能

工具支持二次开发，可以：
- 添加自定义图片处理效果
- 集成到自动化构建流程
- 批量导入导出配置
- 生成使用报告

## 相关组件

- `MLT_TextSwitch`：原始文本切换组件
- `MLT_ImageSwitch`：图片切换组件
- `GameLanguageManager`：语言管理器

---

如有问题或建议，请查看项目文档或联系开发团队。